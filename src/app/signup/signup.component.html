<div id="signup">
  <div>
    <h3>Реєстрація:</h3>
    <p *ngIf="!submitted else successSubmitted">Я уже зареєстрований(-а). <a routerLink="/login">Увійти</a></p>
  </div>
  <ng-template #successSubmitted>
    <p>Ви успішно зареєстровані! <a routerLink="/login">Увійти</a></p>
  </ng-template>

  <form [formGroup]="signupForm" novalidate (ngSubmit)="addUser()">

    <div class="form-group">
      <div class="flex-row">
        <div>
          <input class="form-control" type="text" name="firstName" placeholder="Ім'я *"
                 formControlName="userFirstName"
                 title="лише літери латинниці та кирилиці"
                 [ngClass]="checker('userFirstName')">
        </div>
        <!--<div *ngIf="signupForm.controls['userFirstName'].invalid else checkBox"></div>-->
      </div>
      <small class="form-text" *ngIf="isControlRequired('userFirstName')">Це поле є обов'язковим!</small>
      <small class="form-text" *ngIf="isControlPatterned('userFirstName')">Введіть правильне імя!</small>
    </div>

    <div class="form-group">
      <div class="flex-row">
        <div>
          <input class="form-control" type="text" name="lastName" placeholder="Прізвище *"
                 formControlName="userLastName"
                 title="лише літери латинниці та кирилиці"
                 [ngClass]="checker('userLastName')">
        </div>
      </div>
      <small class="form-text" *ngIf="isControlRequired('userLastName')">Це поле є обов'язковим!</small>
      <small class="form-text" *ngIf="isControlPatterned('userLastName')">Введіть правильне прізвище!</small>
    </div>

    <div class="form-group">
      <div class="flex-row">
        <div>
          <input class="form-control" type="text" name="email"
                 placeholder="Email *"
                 formControlName="userEmail"
                 [ngClass]="checker('userEmail')">
        </div>
      </div>
      <small class="form-text" *ngIf="isControlRequired('userEmail')">Це поле є обов'язковим!</small>
      <small class="form-text" *ngIf="signupForm.controls['userEmail'].hasError('email')">Введіть активний email!
      </small>
    </div>

    <div formArrayName="userPhones">
      <div class="form-group" *ngFor="let userPhone of signupForm.controls['userPhones'].controls; let i = index">
        <!--<label class="label">Ваша ел. пошта або номер мобільного:<br>-->
        <div class="flex-row">
          <div>
            <input class="form-control" type="tel" name="phoneList"
                   placeholder="Номер мобільного *"
                   formControlName="{{i}}"
                   [ngClass]="checker('userPhones')">
          </div>
        </div>
        <small class="form-text"
               *ngIf="signupForm.controls['userPhones'].dirty && signupForm.controls['userPhones'].hasError('required')">
          Це поле є обов'язковим!
        </small>
        <small class="form-text"
               *ngIf="signupForm.controls['userPhones'].dirty && signupForm.controls['userPhones'].hasError('pattern')">
          Введіть активний номер мобільного
        </small>
      </div>
    </div>

    <!--<div formArrayName="userPhones">-->
    <!--<div class="form-group" *ngFor="let userPhone of signupForm.controls['userPhones'].controls; let i = index">-->
    <!--&lt;!&ndash;<label class="label">Ваша ел. пошта або номер мобільного:<br>&ndash;&gt;-->
    <!--<div class="flex-row">-->
    <!--<div>-->
    <!--<input class="form-control" type="tel" name="phone"-->
    <!--placeholder="Номер мобільного *"-->
    <!--formControlName="{{i}}">-->
    <!--</div>-->
    <!--&lt;!&ndash;<div *ngIf="userPhone.invalid else checkBox"></div>&ndash;&gt;-->
    <!--<button id="addPhone" class="btn" (click)="addPhone()">+</button>-->
    <!--<button [disabled]="signupForm.controls['userPhones'].controls.length < 2" id="removePhone" class="btn"-->
    <!--(click)="removePhone(i)">- -->
    <!--</button>-->
    <!--</div>-->
    <!--<p>{{signupForm.controls['userPhones'].value}}</p>-->
    <!--<p>{{signupForm.get('userPhones')}}</p>-->
    <!--<p>[test]</p>-->

    <!--&lt;!&ndash;</label>&ndash;&gt;-->
    <!--<br>-->
    <!--<small class="form-text" *ngIf="userPhone.dirty && userPhone.hasError('required') else patterned">Це поле є-->
    <!--обов'язковим!-->
    <!--</small>-->
    <!--<small class="form-text" *ngIf="userPhone.dirty && userPhone.hasError('pattern')">Введіть активний номер-->
    <!--мобільного-->
    <!--</small>-->

    <!--&lt;!&ndash;<div [hidden]="userPhone.valid|| userPhone.pristine" class="alert alert-danger">&ndash;&gt;-->
    <!--&lt;!&ndash;<p>Введіть активний номер мобільного</p>&ndash;&gt;-->
    <!--&lt;!&ndash;</div>&ndash;&gt;-->
    <!--</div>-->
    <!--</div>-->

    <div class="form-group">
      <div class="flex-row">
        <div>
          <input class="form-control" type="password" name="password" placeholder="Пароль *"
                 formControlName="userPassword"
                 [ngClass]="checker('userPassword')">
        </div>
      </div>
      <small class="form-text" *ngIf="isControlRequired('userPassword')">Це поле є обов'язковим!</small>
      <div [hidden]="signupForm.controls['userPassword'].valid || signupForm.controls['userPassword'].pristine"
           class="">
        <ul>
          Пароль повинен мати:
          <li
            [ngStyle]="{color: signupForm.controls['userPassword'].hasError('minlength') || isControlEmpty('userPassword') ? 'red' : 'black'}">
            принаймні
            8 символів
          </li>
          <li
            [ngStyle]="{color: signupForm.controls['userPassword'].hasError('hasDigit') || isControlEmpty('userPassword') ? 'red' : 'black'}">
            принаймні
            1 цифру
          </li>
          <li
            [ngStyle]="{color: signupForm.controls['userPassword'].hasError('hasCapitalLetter') || isControlEmpty('userPassword') ? 'red' : 'black'}">
            принаймні 1 велику літеру латинського алфавіту
          </li>
          <li
            [ngStyle]="{color: signupForm.controls['userPassword'].hasError('hasLowercaseLetter') || isControlEmpty('userPassword') ? 'red' : 'black'}">
            принаймні 1 малу літеру латинського алфавіту
          </li>
        </ul>
      </div>
    </div>

    <div class="form-group">
      <div class="flex-row">
        <div>
          <input class="form-control" type="password" name="checkPassword" placeholder="Повторіть пароль *"
                 formControlName="userCheckPassword"
                 [ngClass]="checker('userCheckPassword')">
        </div>
      </div>
      <small class="form-text"
             *ngIf="signupForm.controls['userCheckPassword'].dirty && signupForm.controls['userCheckPassword'].hasError('NoPassswordMatch')">
        Пароль не співпадає
      </small>
    </div>

    <div class="form-group">
      <div class="flex-row">
        <div>
          <select aria-label="13" class="form-control" name="source"
                  formControlName="userSource"
                  [ngClass]="checker('userSource')">
            <option disabled value="">Звідки Ви про нас дізналися? *</option>
            <option *ngFor="let source of sources" [value]="source">{{source}}</option>
          </select>
        </div>
      </div>
    </div>
    <!--<input type="submit" value="ЗАРЕЄСТРУВАТИСЯ" [disabled]="userForm.invalid" (click)="addUser(userForm)">-->
    <!--<input type="submit" value="ЗАРЕЄСТРУВАТИСЯ"-->
    <!--[disabled]="userFirstName.invalid || userLastName.invalid || userEmail.invalid || userPhone.invalid || userPassword.invalid || !passwordChecker.hidden || userSource.pristine"-->
    <!--&gt;-->
    <input type="submit" value="ЗАРЕЄСТРУВАТИСЯ" [disabled]="signupForm.invalid">

    <!--<ng-template #checkBox>-->
    <!--<input disabled-->
    <!--[checked]="signupForm.controls['userFirstName'].valid || signupForm.controls['userLastName'].valid || signupForm.controls['userEmail'].valid ||signupForm.controls['userPhone'].valid ||  signupForm.controls['userPassword'].valid || passwordChecker.hidden || signupForm.controls['userSource'].dirty"-->
    <!--type="checkbox" id="cb">-->
    <!--<label for="cb" class="check-box"></label>-->
    <!--</ng-template>-->

  </form>
</div>


<!--<div class="form-group">-->
<!--&lt;!&ndash;<label>Ваше прізвище:<br>&ndash;&gt;-->
<!--<div class="flex-row">-->
<!--<div>-->
<!--<input class="form-control" type="text" name="lastName" placeholder="Прізвище *"-->
<!--[(ngModel)]="user.lastName" #userLastName="ngModel"-->
<!--required pattern="^[A-Za-zА-Яа-яІіЇїЄє'-.\s]+$">-->
<!--</div>-->
<!--<div *ngIf="userLastName.invalid else checkBox"></div>-->
<!--</div>-->
<!--&lt;!&ndash;</label>&ndash;&gt;-->
<!--<br>-->
<!--<div [hidden]="userLastName.valid || userLastName.pristine" class="alert alert-danger">-->
<!--<p>Введіть правильне прізвище</p>-->
<!--</div>-->
<!--</div>-->

<!--<div class="form-group">-->
<!--&lt;!&ndash;<label class="label">Ваша ел. пошта або номер мобільного:<br>&ndash;&gt;-->
<!--<div class="flex-row">-->
<!--<div>-->
<!--<input class="form-control" type="email" name="email"-->
<!--placeholder="Email *"-->
<!--[(ngModel)]="user.email" #userEmail="ngModel" required email>-->
<!--</div>-->
<!--<div *ngIf="userEmail.invalid else checkBox"></div>-->
<!--</div>-->
<!--&lt;!&ndash;</label>&ndash;&gt;-->
<!--<br>-->
<!--<div [hidden]="userEmail.valid || userEmail.pristine" class="alert alert-danger">-->
<!--<p>Введіть активний email</p>-->
<!--</div>-->
<!--</div>-->

<!--<div class="form-group">-->
<!--&lt;!&ndash;<label class="label">Ваша ел. пошта або номер мобільного:<br>&ndash;&gt;-->
<!--<div class="flex-row">-->
<!--<div>-->
<!--<input class="form-control" type="tel" name="phone"-->
<!--placeholder="Номер мобільного *"-->
<!--[(ngModel)]="user.phone" #userPhone="ngModel" (ngModelChange)="phonePattern()"-->
<!--required pattern="((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: ?|\-?)[0-9]{3}(?: ?|\-?)[0-9]{7})|([0-9]{7}))">-->
<!--</div>-->
<!--<div *ngIf="userPhone.invalid else checkBox"></div>-->
<!--</div>-->
<!--&lt;!&ndash;</label>&ndash;&gt;-->
<!--<br>-->
<!--<div [hidden]="userPhone.valid || userPhone.pristine" class="alert alert-danger">-->
<!--<p>Введіть активний номер мобільного</p>-->
<!--</div>-->
<!--</div>-->

<!--<div class="form-group">-->
<!--&lt;!&ndash;<label>Придумайте пароль:<br>&ndash;&gt;-->
<!--<div class="flex-row">-->
<!--<div>-->
<!--<input class="form-control" type="password" name="password" placeholder="Пароль *"-->
<!--[(ngModel)]="user.password" #userPassword="ngModel"-->
<!--required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">-->
<!--</div>-->
<!--<div *ngIf="userPassword.invalid else checkBox"></div>-->
<!--</div>-->
<!--&lt;!&ndash;</label>&ndash;&gt;-->
<!--<br>-->
<!--<div [hidden]="userPassword.valid || userPassword.pristine" class="alert alert-danger">-->
<!--<p class="">Пароль має містити мін. 8 символів, принаймні одну цифру, одну велику та малу латинську літеру-->
<!--</p>-->
<!--</div>-->
<!--</div>-->

<!--<div class="form-group">-->
<!--&lt;!&ndash;<label>Повторіть пароль:<br>&ndash;&gt;-->
<!--<div class="flex-row">-->
<!--<div>-->
<!--<input class="form-control" type="password" name="checkPassword" placeholder="Повторіть пароль *"-->
<!--[(ngModel)]="user.checkPassword" #userCheckPassword="ngModel" required>-->
<!--</div>-->
<!--<div *ngIf="userCheckPassword.model==='' || userCheckPassword.model!=userPassword.model else checkBox"></div>-->
<!--</div>-->
<!--&lt;!&ndash;</label>&ndash;&gt;-->
<!--<br>-->
<!--<div [hidden]="userPassword.model===userCheckPassword.model" #passwordChecker class="alert alert-danger">-->
<!--<p>Пароль не співпадає-->
<!--</p>-->
<!--</div>-->
<!--</div>-->

<!--<div class="form-group">-->
<!--<label>Звідки Ви про нас дізналися?<br>-->
<!--<div class="flex-row">-->
<!--<div>-->
<!--<select aria-label="" class="form-control" name="source" [(ngModel)]="user.source" #userSource="ngModel"-->
<!--required>-->
<!--<option *ngFor="let source of sources" [value]="source">{{source}}</option>-->
<!--</select>-->
<!--</div>-->
<!--<div *ngIf="userSource.pristine else checkBox"></div>-->
<!--</div>-->
<!--</label>-->
<!--<br>-->
<!--</div>-->
<!--&lt;!&ndash;<input type="submit" value="ЗАРЕЄСТРУВАТИСЯ" [disabled]="userForm.invalid" (click)="addUser(userForm)">&ndash;&gt;-->
<!--&lt;!&ndash;<input type="submit" value="ЗАРЕЄСТРУВАТИСЯ"&ndash;&gt;-->
<!--&lt;!&ndash;[disabled]="userFirstName.invalid || userLastName.invalid || userEmail.invalid || userPhone.invalid || userPassword.invalid || !passwordChecker.hidden || userSource.pristine"&ndash;&gt;-->
<!--&lt;!&ndash;&gt;&ndash;&gt;-->
<!--<input type="submit" value="ЗАРЕЄСТРУВАТИСЯ" [disabled]="signupForm.invalid">-->

<!--<ng-template #checkBox>-->
<!--<input disabled-->
<!--[checked]="userFirstName.valid || userLastName.valid || userEmail.valid || userPhone.valid || userPassword.valid || passwordChecker.hidden || userSource.dirty"-->
<!--type="checkbox" id="cb"/>-->
<!--<label for="cb" class="check-box"></label>-->
<!--</ng-template>-->

<!--</form>-->
<!--</div>-->
